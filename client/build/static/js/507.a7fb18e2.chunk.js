"use strict";(self.webpackChunkalladins_chirag_client=self.webpackChunkalladins_chirag_client||[]).push([[507],{3507:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var a=t(5043),s=t(3216),o=t(5187),l=t(6213);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;var i=t(579);const d=()=>{const[e,r]=(0,a.useState)(""),[t,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[m,p]=(0,a.useState)("email"),[b,x]=(0,a.useState)(1),[f,y]=(0,a.useState)(""),v=(0,s.Zp)(),w=(0,o.As)(),{login:j}=w,[N,S]=(0,a.useState)(!1),[k,P]=(0,a.useState)(""),[C,T]=(0,a.useState)("");return(0,i.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-500 via-purple-600 to-red-500 p-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-5xl font-bold text-white mb-2 tracking-wider",style:{fontFamily:"'Montserrat', sans-serif",textShadow:"0 2px 10px rgba(0,0,0,0.2)",letterSpacing:"1px"},children:"Trade Finder"}),(0,i.jsx)("div",{className:"w-20 h-1 bg-white mx-auto rounded-full"})]}),(0,i.jsxs)("div",{className:"flex justify-center mb-6",children:[(0,i.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-2 font-semibold rounded-l-lg transition-colors "+(N?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-white text-blue-600 shadow-md"),children:"Login"}),(0,i.jsx)("button",{onClick:()=>S(!0),className:"px-6 py-2 font-semibold rounded-r-lg transition-colors "+(N?"bg-white text-blue-600 shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Sign Up"})]}),(0,i.jsx)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:(0,i.jsxs)("div",{className:"p-8",children:[N?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Full Name"}),(0,i.jsx)("input",{type:"text",placeholder:"John Doe",value:k,onChange:e=>P(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Email"}),(0,i.jsx)("input",{type:"email",placeholder:"your@email.com",value:e,onChange:e=>r(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Password"}),(0,i.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:t,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsx)("button",{onClick:async()=>{y("");try{const a=await(async e=>{try{const r=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(!r.ok)throw new Error(t.error||"Registration failed");return t}catch(C){throw console.error("Registration error:",C),C}})({name:k,email:e,password:t});a.success?(y("Signup successful! You can now login."),P(""),r(""),d(""),S(!1)):y(a.error||"Signup failed. Please try again.")}catch(C){y(C.message||"An error occurred. Please try again.")}},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-0.5",children:"Sign Up"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex mb-6 rounded-lg overflow-hidden border border-gray-200",children:[(0,i.jsx)("button",{onClick:()=>p("email"),className:"flex-1 py-3 font-semibold transition-all duration-300 "+("email"===m?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-50"),children:"Email Login"}),(0,i.jsx)("button",{onClick:()=>p("otp"),className:"flex-1 py-3 font-semibold transition-all duration-300 "+("otp"===m?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-50"),children:"OTP Login"})]}),"email"===m&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Email"}),(0,i.jsx)("input",{type:"email",placeholder:"your@email.com",value:e,onChange:e=>r(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Password"}),(0,i.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:t,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsx)("button",{onClick:async r=>{r.preventDefault(),y("");try{const r=await l.A.post("http://localhost:6000/api/auth/login",{email:e,password:t});w.login(r.data.user,r.data.token),v("/dashboard")}catch(C){let r="Login failed";"Network Error"===C.message?r="Backend server not running. Start server with: node index.js":C.response&&(r=C.response.data.error||"Invalid credentials"),T(r),console.error("Login error details:",C)}},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-0.5",children:"Login"})]}),"otp"===m&&1===b&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Mobile Number"}),(0,i.jsx)("input",{type:"tel",placeholder:"+91 98765 43210",value:c,onChange:e=>u(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsx)("button",{onClick:async()=>{y("");try{const e=await(async(e,r)=>{try{return(await l.A.post(`${n}/verify-otp`,{phone:e,otp:r})).data}catch(C){var t,a;const r=(null===(t=C.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||C.message||"OTP verification failed";throw new Error(r)}})(c);e.success?(x(2),y("OTP sent to your phone!")):y("Failed to send OTP. Please try again.")}catch(C){y(C.message||"An error occurred. Please try again.")}},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-0.5",children:"Send OTP"})]}),"otp"===m&&2===b&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("p",{className:"text-gray-600 text-center mb-2",children:["OTP sent to ",(0,i.jsx)("span",{className:"font-semibold",children:c})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1 font-medium",children:"Enter OTP"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter 6-digit code",value:g,onChange:e=>h(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-center text-xl tracking-widest focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6})]}),(0,i.jsx)("button",{onClick:async()=>{y("");try{const e=await(async(e,r)=>{try{const t=await fetch("http://localhost:5000/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,otp:r})}),a=await t.json();if(!t.ok)throw new Error(a.error||"OTP verification failed");return a}catch(C){throw console.error("OTP verification error:",C),C}})(c,g);e.success&&e.token?(j(e.user,e.token),v("/dashboard")):y(e.error||"OTP verification failed. Please try again.")}catch(C){y(C.message||"An error occurred. Please try again.")}},className:"w-full bg-gradient-to-r from-green-500 to-teal-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:from-green-600 hover:to-teal-700 transition-all duration-300 transform hover:-translate-y-0.5",children:"Verify OTP"})]})]}),f&&(0,i.jsx)("p",{className:"mt-4 text-center p-3 rounded-lg "+(f.includes("success")||f.includes("sent")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:f}),C&&(0,i.jsx)("p",{className:"mt-4 text-center p-3 rounded-lg bg-red-100 text-red-700",children:C})]})}),(0,i.jsxs)("div",{className:"mt-8 text-center",children:[(0,i.jsx)("p",{className:"text-white text-lg mb-1",style:{fontFamily:"'Dancing Script', cursive"},children:"with love \u2764\ufe0f from Omkar Kalagi"}),(0,i.jsx)("p",{className:"text-white opacity-80 text-sm",style:{fontFamily:"'Dancing Script', cursive"},children:"By Kalagi Group of Companies since 2025"})]})]})})}}}]);
//# sourceMappingURL=507.a7fb18e2.chunk.js.map