"use strict";(self.webpackChunkalladins_chirag_client=self.webpackChunkalladins_chirag_client||[]).push([[448],{8448:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(5043),l=a(2104);const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000",n=(0,l.Ay)(r);var i=a(579);const d=()=>(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-4 text-white",children:[(0,i.jsx)("h3",{className:"font-bold",children:"NIFTY 50"}),(0,i.jsx)("div",{className:"text-2xl font-bold mt-2",children:"18,200.15"}),(0,i.jsx)("div",{className:"text-green-300",children:"+45.30 (0.25%)"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-4 text-white",children:[(0,i.jsx)("h3",{className:"font-bold",children:"SENSEX"}),(0,i.jsx)("div",{className:"text-2xl font-bold mt-2",children:"61,350.45"}),(0,i.jsx)("div",{className:"text-green-300",children:"+120.75 (0.20%)"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 rounded-xl p-4 text-white",children:[(0,i.jsx)("h3",{className:"font-bold",children:"BANK NIFTY"}),(0,i.jsx)("div",{className:"text-2xl font-bold mt-2",children:"39,500.75"}),(0,i.jsx)("div",{className:"text-green-300",children:"+95.50 (0.24%)"})]})]}),c=()=>{const[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(0),[r,n]=(0,t.useState)("BUY"),[d,c]=(0,t.useState)(0);return(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Trading Panel"}),(0,i.jsx)("input",{type:"text",placeholder:"Symbol",value:e,onChange:e=>s(e.target.value),className:"w-full mb-2 p-2 border rounded"}),(0,i.jsx)("input",{type:"number",placeholder:"Quantity",value:a,onChange:e=>l(Number(e.target.value)),className:"w-full mb-2 p-2 border rounded"}),(0,i.jsx)("input",{type:"number",placeholder:"Price",value:d,onChange:e=>c(Number(e.target.value)),className:"w-full mb-2 p-2 border rounded"}),(0,i.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full mb-2 p-2 border rounded",children:[(0,i.jsx)("option",{value:"BUY",children:"Buy"}),(0,i.jsx)("option",{value:"SELL",children:"Sell"})]}),(0,i.jsx)("button",{onClick:()=>{alert(`Placing ${r} order for ${a} shares of ${e} at ${d}`)},className:"w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition",children:"Place Order"})]})},o=()=>{const e={totalValue:125e3,dayGain:2500,totalGain:15e3,stocks:[{symbol:"RELIANCE",quantity:10,avgPrice:2400,ltp:2450},{symbol:"HDFCBANK",quantity:15,avgPrice:1600,ltp:1650},{symbol:"TCS",quantity:20,avgPrice:3200,ltp:3250}]};return(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Portfolio Summary"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("div",{className:"text-gray-500",children:"Total Value"}),(0,i.jsxs)("div",{className:"text-2xl font-bold",children:["\u20b9",e.totalValue.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("div",{className:"text-gray-500",children:"Day's Gain"}),(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+\u20b9",e.dayGain.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg col-span-2",children:[(0,i.jsx)("div",{className:"text-gray-500",children:"Total Gain"}),(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+\u20b9",e.totalGain.toLocaleString()]})]})]}),(0,i.jsx)("h3",{className:"font-medium text-gray-700 mb-2",children:"Holdings"}),(0,i.jsx)("div",{className:"space-y-3",children:e.stocks.map((e,s)=>(0,i.jsxs)("div",{className:"flex justify-between items-center border-b pb-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.symbol}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[e.quantity," shares"]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("div",{className:"font-semibold",children:["\u20b9",e.ltp.toLocaleString()]}),(0,i.jsxs)("div",{className:"text-sm text-green-600",children:["+\u20b9",(e.ltp-e.avgPrice).toLocaleString()]})]})]},s))})]})},x=()=>(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Trading Insights"}),(0,i.jsx)("div",{className:"space-y-4",children:[{symbol:"RELIANCE",recommendation:"BUY",confidence:85,target:2600,rationale:"Strong quarterly results and new energy initiatives"},{symbol:"HDFCBANK",recommendation:"HOLD",confidence:70,target:1700,rationale:"Stable growth but facing margin pressure"},{symbol:"INFY",recommendation:"SELL",confidence:65,target:1400,rationale:"Valuation concerns and slowing deal wins"}].map((e,s)=>(0,i.jsxs)("div",{className:"border-b pb-4 last:border-0 last:pb-0",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-bold",children:e.symbol}),(0,i.jsxs)("div",{className:"text-lg font-bold "+("BUY"===e.recommendation?"text-green-600":"SELL"===e.recommendation?"text-red-600":"text-yellow-600"),children:[e.recommendation," @ \u20b9",e.target]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:[e.confidence,"% confidence"]})]}),(0,i.jsx)("p",{className:"text-gray-600 mt-2 text-sm",children:e.rationale})]},s))})]});var m=a(6213);const h=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=await m.A.get(`https://newsapi.org/v2/top-headlines?q=stock+market&apiKey=${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_NEWS_API_KEY}`);s(e.data.articles.slice(0,5))}catch(e){console.error("Error fetching news:",e)}finally{l(!1)}})()},[]),(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Market News"}),a?(0,i.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):e.length>0?(0,i.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>{var a;return(0,i.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block hover:bg-gray-50 p-2 rounded-lg transition",children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"font-bold text-gray-800 truncate",children:e.title}),(0,i.jsxs)("div",{className:"flex text-sm text-gray-500 mt-1",children:[(0,i.jsx)("span",{children:(null===(a=e.source)||void 0===a?void 0:a.name)||"Unknown"}),(0,i.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,i.jsx)("span",{children:new Date(e.publishedAt).toLocaleTimeString()})]})]}),e.urlToImage&&(0,i.jsx)("img",{src:e.urlToImage,alt:e.title,className:"ml-4 w-16 h-16 object-cover rounded"})]})},s)})}):(0,i.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No news available"})]})},g=()=>(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Watchlist"}),(0,i.jsx)("div",{className:"space-y-3",children:[{symbol:"RELIANCE",price:2450.75,change:12.5,changePercent:.51},{symbol:"HDFCBANK",price:1650.3,change:8.45,changePercent:.51},{symbol:"TCS",price:3250.25,change:-15.75,changePercent:-.48},{symbol:"INFY",price:1425.5,change:22.25,changePercent:1.58},{symbol:"BAJFINANCE",price:7250,change:125.5,changePercent:1.76}].map((e,s)=>(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("div",{className:"font-medium",children:e.symbol}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("div",{className:"font-semibold",children:["\u20b9",e.price.toFixed(2)]}),(0,i.jsxs)("div",{className:"text-sm "+(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?"\u2191":"\u2193"," ",Math.abs(e.change.toFixed(2))," (",e.changePercent,"%)"]})]})]},s))})]});var j=a(2406);const b=(0,t.lazy)(()=>Promise.all([a.e(912),a.e(7)]).then(a.bind(a,8007))),u=(0,t.lazy)(()=>Promise.all([a.e(58),a.e(639)]).then(a.bind(a,639))),N=(0,t.lazy)(()=>a.e(395).then(a.bind(a,5395))),v=()=>{const[e,s]=(0,t.useState)({}),[l,r]=(0,t.useState)(!0),[m,v]=(0,t.useState)(Date.now()),p=(0,t.useMemo)(()=>Object.values(e).map(e=>({...e,changePercent:(e.price-e.previousClose)/e.previousClose*100})),[e]),y=(0,t.useCallback)(e=>{s(s=>Object.keys(e).some(a=>!s[a]||s[a].price!==e[a].price)?{...s,...e}:s),v(Date.now())},[]);(0,t.useEffect)(()=>{Promise.all([a.e(912),a.e(7)]).then(a.bind(a,8007)),Promise.all([a.e(58),a.e(639)]).then(a.bind(a,639)),a.e(395).then(a.bind(a,5395));const e=(t=y,n.on("connect",()=>{console.log("Connected to market data server"),n.emit("subscribe",["NIFTY","BANKNIFTY","RELIANCE","TATASTEEL","HDFCBANK","INFY"])}),n.on("real-time-data",e=>{t(e)}),n.on("sector-data",e=>{}),n.on("disconnect",()=>{console.log("Disconnected from market data server")}),()=>n.disconnect());var t;return(async()=>{try{const e=await fetch("/api/market/data"),a=await e.json();s(a),r(!1)}catch(e){console.error("Failed to load market data",e),r(!1)}})(),()=>e()},[y]);return l?(0,i.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,i.jsx)(j.A,{size:"xl"})}):(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,i.jsx)(d,{data:e,lastUpdate:m}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-2",children:(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 h-96 flex items-center justify-center",children:(0,i.jsx)(j.A,{})}),children:(0,i.jsx)(b,{data:e})})}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(c,{}),(0,i.jsx)(g,{})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 h-96 flex items-center justify-center",children:(0,i.jsx)(j.A,{})}),children:(0,i.jsx)(u,{})}),(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 h-96 flex items-center justify-center",children:(0,i.jsx)(j.A,{})}),children:(0,i.jsx)(N,{})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Market Overview"}),(0,i.jsx)("div",{className:"overflow-y-auto h-96",children:p.slice(0,50).map((e,s)=>(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-4 py-2 border-b",children:[(0,i.jsx)("div",{className:"font-medium",children:e.symbol}),(0,i.jsxs)("div",{className:"text-right",children:["\u20b9",e.price.toFixed(2)]}),(0,i.jsx)("div",{className:"text-right "+(e.change>=0?"text-green-600":"text-red-600"),children:e.change.toFixed(2)}),(0,i.jsxs)("div",{className:"text-right "+(e.changePercent>=0?"text-green-600":"text-red-600"),children:[e.changePercent.toFixed(2),"%"]})]},s))})]}),(0,i.jsx)("div",{children:(0,i.jsx)(o,{})}),(0,i.jsx)("div",{children:(0,i.jsx)(x,{})})]}),(0,i.jsx)("div",{className:"grid grid-cols-1",children:(0,i.jsx)(h,{})})]})},p=t.memo(v)}}]);
//# sourceMappingURL=448.3b497416.chunk.js.map